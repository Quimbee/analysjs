!function(a,b){var c=function(){if(!analytics)throw new Error('The "analytics" object could not be found. Check if the segment.io library was installed correctly.')};c.prototype._getProperties=function(a){var b={},c=a.data();for(var d in c)"metric"!==d&&0===d.indexOf("metric")&&(b[this._convertPropertyName(d)]=this._convertProperty(c[d]));return b},c.prototype._convertPropertyName=function(a){var b="metric".length;return a.charAt(b).toLowerCase()+a.slice(b+1)},c.prototype._convertProperty=function(a){var b=a;if(a)if("true"===a)b=!0;else if("false"===a)b=!1;else{var c=parseFloat(a);isNaN(c)||(b=c)}return b},c.prototype.triggerMetric=function(a){var b=this._getProperties(a);analytics.track(metricName,b)},c.prototype.bindMetric=function(a){var b=a.get(0).tagName.toLowerCase(),c=a.data("metric"),d=this._getProperties(a);switch(b){case"a":analytics.trackLink(a,c,d);break;case"form":analytics.trackForm(a,c,d);break;case"button":a.click(function(){analytics.track(c,d)});break;default:if(d.pageView===!0)analytics.page(c,d.pageCategory,d);else{var e=d.event;e&&a.on(e,function(a){d.eventType=a.type,analytics.track(c,d)})}}},a.analysjs=new c}(this,this.jQuery||this.ender),function(a,b){b.fn.triggerMetric=function(c){return b(this).each(function(){var d=b(this),e=d.data("metric");if(!e)throw new Error("This element does not support metric triggering. You must provide a valid data-metric attribute.");c=b.extend(getProperties(d),c),a.analysjs.triggerMetric(e,c)})},b(function(){b("[data-metric]").each(function(){var c=b(this),d=c.data("metric");d&&a.analysjs.bindMetric(c)})})}(this,this.jQuery||this.ender);
//# sourceMappingURL=analysjs.min.js.map